<!DOCTYPE html>
<html>
<head>
    <title>ì•„íŠ¸ì¬ê³ ë·°</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://artpresso.github.io/license/style_i.css">
</head>
<body>

    <div id="loader">
        <div><strong>ì•„íŠ¸ì¬ê³ ë·°</strong></div>
        <div><span style='font-size:13px; color:#999;'>ì‹œìŠ¤í…œ ì ‘ì† ì¤‘...</span></div>
    </div>
    <iframe id="appFrame"></iframe>

    <script>
        // [ê³ ê° ê´€ë¦¬] ì—¬ê¸°ì— ì•„ì´ë””ì™€ ì£¼ì†Œì¶”ê°€
        const CLIENTS = {
            "test": "https://www.naver.com",
            "artpresso": "https://script.google.com/macros/s/AKfycbyaxogpdyTMzqLCNnE3Hc-bBN9s0gdHyO_qZ7iw_-H355q2T0azf3aoo16WvtHtYeDh-w/exec"
        };

        (function() {
            // ì£¼ì†Œì°½ì—ì„œ ?id=... ê°€ì ¸ì˜¤ê¸°
            const clientId = new URLSearchParams(window.location.search).get('id');
            const targetUrl = CLIENTS[clientId];
            
            const iframe = document.getElementById('appFrame');
            const loader = document.getElementById('loader');

            if (targetUrl) {
                // ì£¼ì†Œê°€ ë§ìœ¼ë©´ ì•„ì´í”„ë ˆì„ì— ì—°ê²°
                iframe.src = targetUrl;
                
                // ë¡œë”©ì´ ë‹¤ ë˜ë©´(onload) -> ì•„ì´í”„ë ˆì„ ë³´ì—¬ì£¼ê³ , ë¡œë”©ê¸€ì”¨ ìˆ¨ê¸°ê¸°
                iframe.onload = function() {
                    iframe.style.display = 'block';
                    loader.style.display = 'none';
                };
            } else {
                loader.innerHTML = "<span style='font-size:24px;'>ğŸš«</span><br>"
                                 + "<b>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” IDì…ë‹ˆë‹¤.</b><br>"
                                 + "<span style='font-size:13px; color:#999;'>ì£¼ì†Œë¥¼ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.</span>";
            }
        })();
    </script>
</body>
</html>
